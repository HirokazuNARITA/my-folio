# 検証チェックリスト

## 最終検証（全実装完了時）

- [ ] `npm run build` 成功
- [ ] `npm run lint` 成功（エラー0）
- [ ] **`npm run test` が存在する場合、必ず実行して全テスト成功を確認**
- [ ] 全ページの描画確認（ブラウザ or `verify:pages`）
- [ ] 追加した画面・フォームは**ブラウザで実際に操作して動作確認**（クリック、入力、送信など）
- [ ] 仕様・チェックリストとの照合
- [ ] **リグレッション確認**: `npm run test` で全テスト成功。追加・変更したコードにユニットテストを追加する

## リグレッション防止（テスト追加ルール）

- **バリデーションスキーマ**（Zod 等）を追加・変更した場合 → ユニットテストを追加
- **Server Actions** を追加・変更した場合 → Prisma 等をモックしてテストを追加
- **API ハンドラ** を追加・変更した場合 → リクエスト/レスポンスのテストを追加
- **ビジネスロジック** を追加・変更した場合 → ユニットテストを追加
- 最終検証時に `npm run test` を実行し、全テスト成功を確認する

## 毎回の実装後チェックリスト

- [ ] **手順書に `[USER]` のStepがある場合、提示→完了確認を待ったか**（スキップ禁止）
- [ ] **複数ステップのタスクで、各ステップ完了後にユーザー確認を依頼したか**
- [ ] ビルドは通るか
- [ ] Lint エラーはないか
- [ ] **`npm run test` で全テスト成功を確認したか**
- [ ] 追加・変更した画面は正しく描画されるか（ブラウザツール推奨）
- [ ] フォーム・バリデーション・認証等は**画面で操作して動作確認したか**（作りっぱなし禁止）
- [ ] **画像アップロード等は、実際にファイルを選択・アップロード・送信まで確認したか**
- [ ] 追加・変更した**コード（スキーマ、Server Actions、API、ビジネスロジック）に**リグレッション防止のテストを追加したか
- [ ] 複雑なロジックはテストを書いたか（TDD）
